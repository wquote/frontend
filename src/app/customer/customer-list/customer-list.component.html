<!-- <app-item-list-crud title="Customers"
          [items]="customers"
          [keys]="['lastName', 'firstName', 'homeAddress', 'emails', 'phones']"
          [columns]="['Last Name', 'First Name', 'Address', 'Email', 'Phone']"
          [searchColumns]="['lastName', 'firstName', 'homeAddress']"
          endpoint="customers">
</app-item-list-crud> -->

<div class="d-flex mb-3 border-bottom">
  <div class=" flex-fill pb-2">
    <h2>Customers</h2>
  </div>

  <div>
    <button class="btn btn-outline-primary"
            [routerLink]="[ '/customers/new' ]">
      <i class="bi bi-plus"></i>
      New
    </button>
  </div>
</div>

<div class="d-flex justify-content-end">
  <div class="col-lg-4 col-md-6 col-sm-10 col-12 mb-3">
    <div class="input-group">
      <span class="input-group-text"
            id="search-icon">
        <i class="bi bi-search"></i>
      </span>
      <input type="text"
             class="form-control"
             placeholder="Search"
             [(ngModel)]="searchTerm"
             (ngModelChange)="filterCustomers()">
    </div>
  </div>
</div>

<table>
  <thead>
    <tr >
      <th>Full Name</th>
      <th>Address</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let customer of filteredCustomers">
      <td> {{ customer.lastName + ', ' + customer.firstName }} </td>
      <td> {{ customer.homeAddress }} </td>
      <td> {{ customer.emails }} </td>
      <td> {{ customer.phones }} </td>
      <td class="d-flex">

        <button class="btn btn-outline-primary btn-sm me-2"
                [routerLink]="[ '/customers', customer.id ]"
                title="Edit">
          <i class="bi bi-pencil-fill"></i>
        </button>

        <button class="btn btn-outline-success btn-sm me-2"
                [routerLink]="[ '/customers', customer.id, 'quotes' ]"
                title="Quotes">
          <i class="bi bi-currency-dollar"></i>
        </button>

      </td>
    </tr>


  </tbody>
</table>

<p class="text-center text-secondary"
   *ngIf="customers.length == 0">There is no data.
</p>
